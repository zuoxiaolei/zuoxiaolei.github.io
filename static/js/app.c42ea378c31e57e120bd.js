webpackJsonp([1],{"09yM":function(t,e){},"6XC7":function(t,e){},Bf5q:function(t,e){},FIHA:function(t,e){},Je6V:function(t,e){},Lw9m:function(t,e){},Mnud:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("jial"),n("YXeK");var a=n("9K46"),i=n.n(a),s=(n("Mnud"),n("6ct0")),o=n.n(s),r=(n("6XC7"),n("nfvW")),c=n.n(r),u=(n("juAh"),n("iloL")),l=n.n(u),d=(n("FIHA"),n("2thC")),p=n.n(d),f=(n("Bf5q"),n("y3cY")),m=n.n(f),h=n("kV13"),v=(n("09yM"),n("UspY"),n("XdoE")),_=n.n(v),g={name:"FundBase",data:function(){return{search_text:"",menu_names:["首页","行情","事件","我的"],text_color:"#656980",menu_value:"首页",recommandData:[],page:1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e={page:this.page,q:JSON.stringify({filters:[{name:"period",op:"==",val:90}]})};this.axios.get("http://106.12.117.104:5000/api/purchase_index",{params:e}).then(function(e){t.recommandData=t.recommandData.concat(e.data.objects),t.plot()})},load:function(){this.page+=1,this.page<=10&&this.getData()},handleClick:function(t,e){this.menu_value=t.label},recommand:function(t){return"&nbsp;&nbsp;"+t.name+"("+t.code+")"},get_detail:function(t){return"https://m.1234567.com.cn/?page=jjxq&code="+t},get_recom_index:function(t){return t.toFixed(2)},isPurchase:function(t){return t>=.5},getHistoryData:function(t){t=t.code;var e,n=((e=new Date).setDate(e.getDate()-90),function(t,e){var n=void 0,a={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var i in a)(n=new RegExp("("+i+")").exec(t))&&(t=t.replace(n[1],1==n[1].length?a[i]:a[i].padStart(n[1].length,"0")));return t}("YYYY-mm-dd",e).toLocaleString()),a={q:JSON.stringify({filters:[{name:"code",op:"==",val:t},{name:"day",op:">=",val:n}]})};this.axios.get("http://106.12.117.104:5000/api/fund_history",{params:a}).then(function(e){var n=e.data.objects,a=new _.a.Chart({id:t,pixelRatio:window.devicePixelRatio});a.source(n,{day:{type:"timeCat",range:[0,1],tickCount:3}}),a.tooltip({custom:!0,showXTip:!0,showYTip:!0,snap:!0,crosshairsType:"xy",crosshairsStyle:{lineDash:[2]}}),a.axis("day",{label:function(t,e,n){var a={};return 0===e?a.textAlign="left":e===n-1&&(a.textAlign="right"),a}}),a.line().position("day*sum_value"),a.render()})},plot:function(){this.$nextTick(function(){this.recommandData.forEach(this.getHistoryData)})}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contain",attrs:{id:"app"}},[n("div",[n("el-container",{attrs:{id:"search"}},[n("el-header",[n("el-input",{attrs:{placeholder:"请输入基金相关内容"},model:{value:t.search_text,callback:function(e){t.search_text=e},expression:"search_text"}})],1)],1)],1),t._v(" "),n("div",[n("el-container",{staticClass:"menu"},[n("el-tabs",{attrs:{activeName:t.menu_value,"text-color":t.text_color,stretch:!0},on:{"tab-click":t.handleClick}},t._l(t.menu_names,function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t,name:t}})}),1)],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.menu_value===t.menu_names[0],expression:"menu_value===menu_names[0]"}],staticClass:"recom"},[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"infinite-list",staticStyle:{overflow:"auto"}},t._l(t.recommandData,function(e){return n("li",{staticClass:"infinite-list-item"},[n("el-container",{staticClass:"fund-load"},[n("a",{attrs:{href:t.get_detail(e.code),target:"view_window",color:"inherit"}},[n("span",{domProps:{innerHTML:t._s(t.recommand(e))}}),t._v(" "),n("span",{class:{purchase:t.isPurchase(e.purchase_index)},attrs:{id:"reco_index"},domProps:{innerHTML:t._s(t.get_recom_index(e.purchase_index))}}),t._v(" "),n("span",{attrs:{id:"explain"}},[t._v("购买指数")])]),t._v(" "),n("div",[n("canvas",{staticClass:"select-canvas",attrs:{id:e.code}})])])],1)}),0)])])},staticRenderFns:[]};var y=n("C7Lr")(g,x,!1,function(t){n("Je6V")},null,null).exports,w={name:"App",components:{FundBase:y}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("FundBase")],1)},staticRenderFns:[]};var D=n("C7Lr")(w,C,!1,function(t){n("Lw9m")},null,null).exports,b=n("7LQH");h.default.use(b.a);var S=new b.a({routes:[{path:"/",name:"FundBase",component:y}]}),Y=n("x7Ey"),H=n.n(Y),L=n("Iufj"),M=n.n(L),j=n("LByM"),F=n.n(j);H.a.defaults.baseURL="http://localhost:5000",h.default.config.productionTip=!1,h.default.prototype.$echarts=F.a,h.default.use(m.a),h.default.use(p.a),h.default.use(l.a),h.default.use(c.a),h.default.use(o.a),h.default.prototype.$http=H.a,h.default.use(M.a,H.a),h.default.use(i.a),new h.default({el:"#app",router:S,components:{App:D},template:"<App/>"})},UspY:function(t,e){},YXeK:function(t,e){},jial:function(t,e){},juAh:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c42ea378c31e57e120bd.js.map